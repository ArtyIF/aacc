[gd_scene load_steps=16 format=3 uid="uid://b8dibdn7lv1o0"]

[ext_resource type="Environment" uid="uid://ysvc1jqnkuid" path="res://demo_assets/demo_scene_environment.tres" id="1_8gguu"]
[ext_resource type="Script" path="res://demo_assets/scripts/camera.gd" id="2_vy2m6"]
[ext_resource type="Material" uid="uid://bbeplwj0un437" path="res://demo_assets/materials/material_white.tres" id="4_wmbkv"]
[ext_resource type="Script" path="res://demo_assets/scripts/pedestal.gd" id="5_3pldh"]
[ext_resource type="PackedScene" uid="uid://crko52geporbo" path="res://demo_assets/car_scenes/taxi.tscn" id="5_attwm"]
[ext_resource type="PackedScene" uid="uid://yjspexnxe8f4" path="res://demo_assets/car_scenes/police.tscn" id="6_vheu2"]
[ext_resource type="PackedScene" uid="uid://ca5atj7t04ryr" path="res://demo_assets/car_scenes/race_future.tscn" id="7_sklo0"]
[ext_resource type="PackedScene" uid="uid://climotlfvecyb" path="res://demo_assets/car_scenes/suv.tscn" id="12_bket6"]
[ext_resource type="PackedScene" uid="uid://b1wiyxnholdo" path="res://demo_assets/car_scenes/sedan_sports.tscn" id="13_cq28e"]
[ext_resource type="Script" path="res://demo_assets/scripts/speed_label.gd" id="14_i5r8x"]
[ext_resource type="LightmapGIData" uid="uid://bq0sjklar8sx5" path="res://demo_assets/demo_scene.lmbake" id="16_kdidh"]
[ext_resource type="PackedScene" uid="uid://ep48diqn0vyp" path="res://demo_assets/subscenes/pathtest.glb" id="16_sjues"]

[sub_resource type="BoxMesh" id="BoxMesh_c6pm3"]
material = ExtResource("4_wmbkv")
size = Vector3(4, 0.1, 10)

[sub_resource type="BoxShape3D" id="BoxShape3D_xngdy"]
size = Vector3(4, 0.1, 10)

[sub_resource type="LabelSettings" id="LabelSettings_3uvu3"]
font_size = 32
outline_size = 8
outline_color = Color(0, 0, 0, 1)

[node name="Node3D" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource("1_8gguu")

[node name="Sunlight" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.5, -0.433013, 0.75, 0, 0.866026, 0.5, -0.866026, -0.25, 0.433012, 0, 0, 0)
light_angular_distance = 5.0
light_bake_mode = 1
directional_shadow_pancake_size = 100.0

[node name="Camera" type="Camera3D" parent="." node_paths=PackedStringArray("car")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3, 4)
script = ExtResource("2_vy2m6")
car = NodePath("../taxi")

[node name="LevelGeometry" type="Node3D" parent="."]

[node name="PedestalPolice" type="AnimatableBody3D" parent="LevelGeometry"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8, 1.95, 0)
script = ExtResource("5_3pldh")

[node name="Visual" type="MeshInstance3D" parent="LevelGeometry/PedestalPolice"]
gi_mode = 2
mesh = SubResource("BoxMesh_c6pm3")
skeleton = NodePath("../..")

[node name="Collision" type="CollisionShape3D" parent="LevelGeometry/PedestalPolice"]
shape = SubResource("BoxShape3D_xngdy")

[node name="PedestalSedan" type="AnimatableBody3D" parent="LevelGeometry"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4, 1.95, 0)
script = ExtResource("5_3pldh")

[node name="Visual" type="MeshInstance3D" parent="LevelGeometry/PedestalSedan"]
gi_mode = 2
mesh = SubResource("BoxMesh_c6pm3")
skeleton = NodePath("../..")

[node name="Collision" type="CollisionShape3D" parent="LevelGeometry/PedestalSedan"]
shape = SubResource("BoxShape3D_xngdy")

[node name="PedestalTaxi" type="AnimatableBody3D" parent="LevelGeometry"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.95, 0)
script = ExtResource("5_3pldh")
lowered = true

[node name="Visual" type="MeshInstance3D" parent="LevelGeometry/PedestalTaxi"]
gi_mode = 2
mesh = SubResource("BoxMesh_c6pm3")
skeleton = NodePath("../..")

[node name="Collision" type="CollisionShape3D" parent="LevelGeometry/PedestalTaxi"]
shape = SubResource("BoxShape3D_xngdy")

[node name="PedestalRace" type="AnimatableBody3D" parent="LevelGeometry"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4, 1.95, 0)
script = ExtResource("5_3pldh")

[node name="Visual" type="MeshInstance3D" parent="LevelGeometry/PedestalRace"]
gi_mode = 2
mesh = SubResource("BoxMesh_c6pm3")
skeleton = NodePath("../..")

[node name="Collision" type="CollisionShape3D" parent="LevelGeometry/PedestalRace"]
shape = SubResource("BoxShape3D_xngdy")

[node name="PedestalSUV" type="AnimatableBody3D" parent="LevelGeometry"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8, 1.95, 0)
script = ExtResource("5_3pldh")

[node name="Visual" type="MeshInstance3D" parent="LevelGeometry/PedestalSUV"]
gi_mode = 2
mesh = SubResource("BoxMesh_c6pm3")
skeleton = NodePath("../..")

[node name="Collision" type="CollisionShape3D" parent="LevelGeometry/PedestalSUV"]
shape = SubResource("BoxShape3D_xngdy")

[node name="pathtest" parent="LevelGeometry" instance=ExtResource("16_sjues")]

[node name="taxi" parent="." instance=ExtResource("5_attwm")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 0)

[node name="police" parent="." instance=ExtResource("6_vheu2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8, 2, 0)

[node name="race-future" parent="." instance=ExtResource("7_sklo0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4, 2, 0)

[node name="suv" parent="." instance=ExtResource("12_bket6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8, 2, 0)

[node name="sedan-sports" parent="." instance=ExtResource("13_cq28e")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4, 2, 0)

[node name="UI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="SpeedLabel" type="Label" parent="UI" node_paths=PackedStringArray("car")]
layout_mode = 1
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -64.0
offset_top = -23.0
grow_horizontal = 0
grow_vertical = 0
text = "30 km/h"
label_settings = SubResource("LabelSettings_3uvu3")
horizontal_alignment = 2
vertical_alignment = 2
script = ExtResource("14_i5r8x")
car = NodePath("../../taxi")

[node name="LightmapGI" type="LightmapGI" parent="."]
bounces = 2
environment_mode = 3
environment_custom_color = Color(0.501961, 0.752941, 1, 1)
environment_custom_energy = 1.0
generate_probes_subdiv = 0
light_data = ExtResource("16_kdidh")
