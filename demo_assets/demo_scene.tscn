[gd_scene load_steps=20 format=3 uid="uid://b8dibdn7lv1o0"]

[ext_resource type="Environment" uid="uid://ysvc1jqnkuid" path="res://demo_assets/demo_scene_environment.tres" id="1_8gguu"]
[ext_resource type="Script" path="res://demo_assets/scripts/car_setter.gd" id="1_gsqbk"]
[ext_resource type="Script" path="res://demo_assets/scripts/light_compatibility_adjustment.gd" id="2_gvx2t"]
[ext_resource type="Script" path="res://demo_assets/scripts/camera.gd" id="2_vy2m6"]
[ext_resource type="Script" path="res://demo_assets/scripts/gear_label.gd" id="4_0y4aa"]
[ext_resource type="Script" path="res://demo_assets/scripts/revs_progress.gd" id="4_d88wf"]
[ext_resource type="LightmapGIData" uid="uid://dfd0tci5o77bn" path="res://demo_assets/demo_scene.lmbake" id="5_5iqqq"]
[ext_resource type="PackedScene" uid="uid://cu2i0ah5ud0w1" path="res://demo_assets/subscenes/pathtest.blend" id="5_868sg"]
[ext_resource type="PackedScene" uid="uid://crko52geporbo" path="res://demo_assets/car_scenes/taxi.tscn" id="5_attwm"]
[ext_resource type="Script" path="res://addons/aacc/scripts/helper_classes/procedural_curve.gd" id="6_g4he2"]
[ext_resource type="Script" path="res://addons/aacc/scripts/car_input.gd" id="7_67ns0"]
[ext_resource type="Script" path="res://demo_assets/scripts/car_resetter.gd" id="8_i5b6w"]
[ext_resource type="PackedScene" uid="uid://bmlsbg56bgev6" path="res://demo_assets/car_scenes/race.tscn" id="12_ggn08"]
[ext_resource type="Script" path="res://demo_assets/scripts/speed_label.gd" id="14_i5r8x"]

[sub_resource type="Resource" id="Resource_0ph7j"]
resource_local_to_scene = true
script = ExtResource("6_g4he2")
left_value = 0.0
right_value = 2.0
max_input = 10.0
input_curve = 0.5

[sub_resource type="Resource" id="Resource_isw3d"]
resource_local_to_scene = true
script = ExtResource("6_g4he2")
left_value = 1.0
right_value = 0.4
max_input = 10.0
input_curve = 0.5

[sub_resource type="Resource" id="Resource_j4cya"]
resource_local_to_scene = true
script = ExtResource("6_g4he2")
left_value = 0.0
right_value = 2.0
max_input = 10.0
input_curve = 0.5

[sub_resource type="Resource" id="Resource_y4j1c"]
resource_local_to_scene = true
script = ExtResource("6_g4he2")
left_value = 1.0
right_value = 0.2
max_input = 10.0
input_curve = 0.5

[sub_resource type="LabelSettings" id="LabelSettings_3uvu3"]
font_size = 32
outline_size = 8
outline_color = Color(0, 0, 0, 1)

[node name="Node3D" type="Node3D"]

[node name="CarSetter" type="Node" parent="." node_paths=PackedStringArray("car")]
process_priority = -1000
script = ExtResource("1_gsqbk")
car = NodePath("../Race")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource("1_8gguu")

[node name="Sunlight" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.5, -0.433013, 0.75, 0, 0.866026, 0.5, -0.866026, -0.25, 0.433012, 0, 0, 0)
light_energy = 1.2
light_angular_distance = 10.0
light_bake_mode = 1
shadow_enabled = true
directional_shadow_mode = 0
directional_shadow_max_distance = 10.0
directional_shadow_pancake_size = 50.0
sky_mode = 1
script = ExtResource("2_gvx2t")
actual_energy = 3.0

[node name="SunlightSky" type="DirectionalLight3D" parent="Sunlight"]
light_energy = 3.0
light_angular_distance = 1.0
light_bake_mode = 0
sky_mode = 2

[node name="Camera" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 4)
doppler_tracking = 1
far = 1000.0
script = ExtResource("2_vy2m6")

[node name="Taxi" parent="." instance=ExtResource("5_attwm")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 0, 0)
steer_tug_curve = SubResource("Resource_0ph7j")
reduced_grip_curve = SubResource("Resource_isw3d")

[node name="Race" parent="." instance=ExtResource("12_ggn08")]
steer_tug_curve = SubResource("Resource_j4cya")
reduced_grip_curve = SubResource("Resource_y4j1c")

[node name="UI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="CarUI" type="VBoxContainer" parent="UI"]
custom_minimum_size = Vector2(192, 0)
layout_mode = 1
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -127.0
offset_top = -45.0
grow_horizontal = 0
grow_vertical = 0

[node name="Revs" type="ProgressBar" parent="UI/CarUI"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 4
max_value = 1.0
step = 0.0
value = 0.3
fill_mode = 1
script = ExtResource("4_d88wf")

[node name="Gear" type="Label" parent="UI/CarUI"]
layout_mode = 2
text = "3"
label_settings = SubResource("LabelSettings_3uvu3")
horizontal_alignment = 2
vertical_alignment = 2
script = ExtResource("4_0y4aa")

[node name="Speed" type="Label" parent="UI/CarUI"]
layout_mode = 2
text = "30 km/h"
label_settings = SubResource("LabelSettings_3uvu3")
horizontal_alignment = 2
vertical_alignment = 2
script = ExtResource("14_i5r8x")

[node name="LightmapGI" type="LightmapGI" parent="."]
generate_probes_subdiv = 0
light_data = ExtResource("5_5iqqq")

[node name="pathtest" parent="." instance=ExtResource("5_868sg")]

[node name="CarInput" type="Node" parent="."]
script = ExtResource("7_67ns0")

[node name="CarResetter" type="Node" parent="."]
script = ExtResource("8_i5b6w")
